<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <title>Distance Sensor</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/p5.serialserver@0.0.28/lib/p5.serialport.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@makinteract/p5.serialport@0.0.4/lib/p5.serialport.min.js"></script>

   <style>
      html, body {
        margin: 0;
        padding: 0;
        width: 500px;
        height: 500px;
        overflow: hidden;
      }
      canvas {
        display: block;
        width: 500px !important;
        height: 500px !important;
      }
    </style>
</head>

<body>
    <script>
let latestData = "waiting for data";

function setup() {
  createCanvas(500, 500);
}

function draw() {
  background(255);

  // Simulate sensor input using mouse press
  if (mouseIsPressed) {
    latestData = "1";
  } else {
    latestData = "0";
  }

  // Conditional fill color based on simulated input
  if (latestData === "1") {
    fill(0);
  } else {
    fill(255);
  }

  rect(150, 150, 125, 125);

  fill(0);
  textSize(20);
  text("Motion: " + latestData, 20, height - 20);
}

  </script>
</body>

</html>